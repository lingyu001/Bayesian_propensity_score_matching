### Notice: due to the confidential concern, the paper related to his research design is not published,
### The associated cods are not revealed. Steps were showed.
### If you need further information please email: lilingyu2015@gmail.com

rm(list=ls())
gc()

## Locate and read data

## Data used for analysis
 
  ## Data used for simulation
  ## Define simulation model
  ## Define Bayesian propensity score model

## Data simulation
  
  ## Propensity score matching analysis

  ## Produce covariate balance metric ASMD

  ## Before matching ASMD

  ##Unobserved covariate ASMD before matching

## Traditional propensity score matching (PSM)
 
  ## Binary logit model estimating propensit scores

  ## Estimate propensity scores

  ## Conduct Nearest-neighbour matching using MatchIt Package

  ## Covariable balance after PSM

  ## Unobserved covariate ASMD after PSM

  ## Outcome model 
     
  
## Bayesian propensity score matching (PSM)
  
  ## Data used for Bayesian modeling
  
  ## Bayesian modeling using MCMC simulating
  
  ## Conduct Nearest-neighbour matching for BPSM
  
  ## Covariable balance after BPSM
  
  ##Unobserved covariate ASMD after bpsm
   
  ## Outcome model 

## Save results every 10 iteration
  
## Save simulated data 
 
